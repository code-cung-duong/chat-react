(this["webpackJsonpchat-app-basic"]=this["webpackJsonpchat-app-basic"]||[]).push([[0],{266:function(e,t,n){},457:function(e,t,n){},458:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(41),i=n.n(r),o=n(187),s=n(42),l=(n(266),n(462)),d=n(463),b=n(8),j=n(27),u=n(474),p=n(475),x=n(476),h=n(477),m=n(478),f=n(479),O=n(480),g=n(466),v=n(467),y=n(473),w=n(469),C=n(110),N=n(472),I=n(124),k=n.n(I),S=n(243),R=n(28),A=n(3),V=n(111);n(271),n(272),n(273);V.a.initializeApp({apiKey:"AIzaSyBlm-W6GLaMQFC4PCEMMZ61AaNFmBh6DdY",authDomain:"chat-app-hihi.firebaseapp.com",projectId:"chat-app-hihi",storageBucket:"chat-app-hihi.appspot.com",messagingSenderId:"883987244279",appId:"1:883987244279:web:aaae422fdb9a61e9669ff2",measurementId:"G-L65WGMD5Y7"}),V.a.analytics();var M=V.a.auth(),U=V.a.firestore(),L=V.a,z=function(e,t){var n=Object(c.useState)([]),a=Object(b.a)(n,2),r=a[0],i=a[1];return Object(c.useEffect)((function(){var n=U.collection(e).orderBy("createAt");if(t){if(!t.compareValue||!t.compareValue.length)return void i([]);n=n.where(t.fieldName,t.operator,t.compareValue)}return n.onSnapshot((function(e){var t=e.docs.map((function(e){return Object(A.a)(Object(A.a)({},e.data()),{},{id:e.id})}));i(t)}))}),[e,t]),r},F=n(461),T=n(7),_=a.a.createContext();var E=function(e){var t=e.children,n=Object(c.useState)({}),a=Object(b.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(!0),l=Object(b.a)(o,2),d=l[0],j=l[1],u=Object(s.f)();return Object(c.useEffect)((function(){var e=M.onAuthStateChanged((function(e){if(e){var t=e.displayName,n=e.email,c=e.uid,a=e.phoneNumber,r=e.photoURL;return i({displayName:t,email:n,uid:c,phoneNumber:a,photoURL:r}),j(!1),void u.push("/")}i({}),j(!1),u.push("/login")}));return function(){e()}}),[u]),Object(T.jsxs)(_.Provider,{value:r,children:[d?Object(T.jsx)(F.a,{style:{fontSize:"20pt",position:"fixed",top:"50%",left:"50%"}}):t," "]})},B=a.a.createContext();var P,D,G=function(e){var t=e.children,n=Object(c.useState)(!1),a=Object(b.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(!1),s=Object(b.a)(o,2),l=s[0],d=s[1],j=Object(c.useState)(""),u=Object(b.a)(j,2),p=u[0],x=u[1],h=Object(c.useState)(!1),m=Object(b.a)(h,2),f=m[0],O=m[1],g=Object(c.useContext)(_).uid,v=Object(c.useMemo)((function(){return{fieldName:"members",operator:"array-contains",compareValue:g}}),[g]),y=z("rooms",v),w=Object(c.useMemo)((function(){return Array.from(y).find((function(e){return e.id===p}))||{}}),[y,p]),C=Object(c.useMemo)((function(){return{fieldName:"uid",operator:"in",compareValue:w.members}}),[w.members]),N=z("users",C);return Object(T.jsxs)(B.Provider,{value:{rooms:y,isAddRoomVisible:r,setIsAddRoomVisible:i,selectedRoomId:p,setSelectedRoomId:x,selectedRoom:w,members:N,isInviteMemberVisible:f,setIsInviteMemberVisible:O,clearState:function(){x(""),i(!1),O(!1)},isShowMembersVisible:l,setIsShowMembersVisible:d},children:[" ",t," "]})},W=n(13),K=function(e,t){U.collection(e).add(Object(A.a)(Object(A.a)({},t),{},{createAt:L.firestore.FieldValue.serverTimestamp()}))},H=function(e){for(var t=e.split(" ").filter((function(e){return e})),n=t.length,c=[],a=[],r=[],i=0;i<n;i++)c[i]=!1;!function e(i){for(var o=0;o<n;o++)c[o]||(c[o]=!0,a[i]=t[o],i===n-1&&r.push(a.join(" ")),e(i+1),c[o]=!1)}(0);var o=r.reduce((function(e,t){var n=function(e){var t=[],n="";return e.split("").forEach((function(e){n+=e,t.push(n)})),t}(t);return[].concat(Object(W.a)(e),Object(W.a)(n))}),[]);return o.push("*"),o},J=n(74),Y=n(465),Q=n(464),X=R.a.div(P||(P=Object(j.a)(["\n  margin-bottom: 17px;\n  margin-left: 9px;\n  display: flex;\n  width: 99%;\n  justify-content:flex-end;\n\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n\n  .content {\n    overflow-y: visible;\n    color: #fff;\n    max-width: 400px;\n    min-width: 20px;\n    word-wrap:break-word;\n    font-size: 15px;\n    text-align: justify;\n  }\n"]))),Z=R.a.div(D||(D=Object(j.a)(["\n\n\n  max-width: 800px;\n    background-color: #0099ff;\n    border: 1px solid #ddd;\n    border-radius: 30px;\n    padding: 3px 18px 5px 18px;\n    magrin-left: 10px;\n    min-width: 40px;\n    text-align: justify;\n"])));function q(e){var t="";return e&&(t=(t=Object(Q.a)(new Date(1e3*e),new Date)).charAt(0).toUpperCase()+t.slice(1)),t}var $,ee,te,ne=function(e){var t=e.text,n=(e.photoURL,e.displayName,e.createdAt);return Object(T.jsx)(X,{children:Object(T.jsx)(Z,{children:Object(T.jsx)(J.a,{placement:"left",title:q(null===n||void 0===n?void 0:n.seconds),children:Object(T.jsxs)(Y.a.Text,{className:"content",children:[" ",t]})})})})},ce=n(105),ae=n.n(ce),re=R.a.div($||($=Object(j.a)(["\n  margin-bottom: 17px;\n  margin-left: 5px;\n  display: flex;\n  width: 900px;\n  justify-content:flex-start;\n\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n\n  .content {  \n    overflow-y: visible;\n    color: #123;\n    max-width: 400px;\n    min-width: 20px;\n    word-wrap:break-word;\n    font-size: 15px;\n    text-align: justify;\n  }\n"]))),ie=R.a.div(ee||(ee=Object(j.a)(["\n  magrin: 5px;\n  padding-right: 15px;\n"]))),oe=R.a.div(te||(te=Object(j.a)(["\nmax-width: 800px;\nbackground-color: rgb(228 230 235);\nborder: 1px solid #ddd;\nborder-radius: 30px;\npadding: 3px 18px 5px 18px;\nmin-width: 40px;\ntext-align: justify;\n"])));function se(e){var t="";return e&&(t=(t=Object(Q.a)(new Date(1e3*e),new Date)).charAt(0).toUpperCase()+t.slice(1)),t}var le,de,be,je,ue,pe,xe=function(e){var t=e.text,n=e.photoURL,c=e.displayName,a=e.createdAt;return Object(T.jsxs)(re,{children:[Object(T.jsx)(ie,{children:Object(T.jsx)(J.a,{title:c,placement:"left",children:Object(T.jsxs)(ae.a,{size:"default",src:n,children:[n?"":c.charAt(0)," "]})})}),Object(T.jsx)(oe,{children:Object(T.jsx)(J.a,{placement:"left",title:se(null===a||void 0===a?void 0:a.seconds),children:Object(T.jsx)(Y.a.Text,{className:"content",children:t})})})]})},he=R.a.div(le||(le=Object(j.a)(["\n  display: flex;\n  justify-content: space-between;\n  height: 56px;\n  padding: 0 16px;\n  align-items: center;\n  border-bottom: 1px solid rgb(230, 230, 230);\n  box-shadow: -3px 13px 6px -10px rgb(230 230 230);\n\n  .header {\n    &__info {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n    }\n\n    &__title {\n      margin: 0;\n      font-weight: bold;\n    }\n\n    &__description {\n      font-size: 12px;\n    }\n  }\n"]))),me=R.a.div(de||(de=Object(j.a)(["\n  display: flex;\n  align-items: center;\n"]))),fe=R.a.div(be||(be=Object(j.a)(["\n  height: 100vh;\n"]))),Oe=R.a.div(je||(je=Object(j.a)(["\n  height: calc(100% - 56px);\n  display: flex;\n  flex-direction: column;\n  padding: 11px;\n  justify-content: flex-end;\n"]))),ge=Object(R.a)(g.a)(ue||(ue=Object(j.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 2px 2px 2px 0;\n  border: 1px solid rgb(230, 230, 230);\n  border-radius: 2px;\n\n  .ant-form-item {\n    flex: 1;\n    margin-bottom: 0;\n  }\n"]))),ve=R.a.div(pe||(pe=Object(j.a)(["\n  max-height: 100%;\n  overflow-y: auto;\n"])));var ye,we,Ce,Ne=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(I.useForm)(),i=Object(b.a)(r,1)[0],o=Object(c.useContext)(B),s=o.selectedRoom,l=o.selectedRoomId,d=o.setSelectedRoomId,j=o.setIsInviteMemberVisible,k=o.setIsAddRoomVisible,R=o.setIsShowMembersVisible,A=Object(c.useRef)(""),V=Object(c.useMemo)((function(){return{fieldName:"roomId",operator:"==",compareValue:l}}),[l]),M=z("messages",V);Object(c.useEffect)((function(){E(!0),l&&A.current.focus()}),[l]);var U=Object(c.useState)(!0),L=Object(b.a)(U,2),F=L[0],E=L[1];Object(c.useEffect)((function(){H.current&&(H.current.scrollTop=H.current.scrollHeight+50),Object(S.delay)((function(){E(!1)}),200,"")}),[M]),Object(c.useLayoutEffect)((function(){H.current&&(H.current.scrollTop=H.current.scrollHeight+50)}));var P=Object(c.useContext)(_),D=P.uid,G=P.displayName,W=P.photoURL,H=Object(c.useRef)(null),J=function(){n.trim().length&&(K("messages",{text:n,uid:D,photoURL:W,displayName:G,roomId:l}),i.setFieldsValue({message:""}),A.current.focus())},Y=Object(T.jsxs)(v.a,{children:[Object(T.jsx)(v.a.Item,{onClick:function(){return R(!0)},icon:Object(T.jsx)(u.a,{}),children:"Xem th\xe0nh vi\xean"},"1"),Object(T.jsx)(v.a.Item,{onClick:function(){return j(!0)},icon:Object(T.jsx)(p.a,{}),children:"M\u1eddi b\u1ea1n b\xe8"},"2"),Object(T.jsx)(v.a.Item,{onClick:function(){return d("")},icon:Object(T.jsx)(x.a,{}),children:"Tho\xe1t"},"3")]});return Object(T.jsxs)(T.Fragment,{children:[" ",l?Object(T.jsxs)(fe,{children:[Object(T.jsxs)(he,{children:[Object(T.jsxs)("div",{className:"header__info",children:[Object(T.jsxs)("p",{className:"header__title",children:[" ",s?s.name:""]}),Object(T.jsxs)("span",{className:"header__description",children:[" ",s?s.description:""]})]}),Object(T.jsx)(me,{children:Object(T.jsx)(y.a.Button,{style:{bordered:"none"},icon:Object(T.jsx)(h.a,{}),overlay:Y})})]}),Object(T.jsxs)(Oe,{children:[" ",!0===F?Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(m.a,{spin:!0,style:{fontSize:"56px",color:"#08c",position:"absolute",top:"50%",left:"50%"}})}):Object(T.jsxs)(ve,{className:"listMessage",ref:H,children:[" ",M.map((function(e){return e.uid===D?Object(T.jsx)(ne,{text:e.text,photoURL:e.photoURL,displayName:e.displayName,createdAt:e.createAt},e.id):Object(T.jsx)(xe,{text:e.text,photoURL:e.photoURL,displayName:e.displayName,createdAt:e.createAt},e.id)}))," "]}),Object(T.jsxs)(ge,{form:i,children:[Object(T.jsx)(g.a.Item,{name:"message",children:Object(T.jsx)(w.a,{ref:A,onChange:function(e){a(e.target.value)},onPressEnter:J,placeholder:"Nh\u1ea5n t\u1ed5 h\u1ee3p Window + . \u0111\u1ec3 th\xeam emoji nh\xe9 . . .",bordered:!1,autoComplete:"off"})}),Object(T.jsx)(C.a,{style:{width:"40px",color:"blue"},icon:Object(T.jsx)(f.a,{style:{fontSize:"15pt"}}),onClick:J})]})]})]}):Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(N.a,{icon:Object(T.jsx)(O.a,{spin:!0,rotate:"100"}),title:"Click ch\u1ecdn m\u1ed9t nh\xf3m \u0111\u1ec3 b\u1eaft \u0111\u1ea7u n\xe0o",style:{color:"red"},extra:Object(T.jsx)(C.a,{type:"primary",ghost:!0,onClick:function(){return k(!0)},children:"B\u1ea1n c\xf3 th\u1ec3 t\u1ea1o nh\xf3m v\xe0 m\u1eddi b\u1ea1n b\xe8 v\xe0o t\u1ea1i \u0111\xe2y"})})})," "]})},Ie=n(481),ke=n(482),Se=n(470),Re=Se.a.Panel,Ae=Object(R.a)(Re)(ye||(ye=Object(j.a)(["\n  \n\n\n  &&& {\n    .ant-collapse-header\n    ,\n    p {\n      color: blue;\n      font-weight: 500;\n    }\n\n    .ant-collapse-content-box {\n      padding: 0 10px;\n      max-height: 290px;\n      overflow-y: auto;\n\n    .ant-typography:hover {\n      textShadow: rgb(222 222 222) 0px 0px 7px;\n      background-color: #f1f1f1;\n      transition: color 0.2s;\n    }\n\n    .ant-typography{\n      color: #000;\n      font-weight: 400;\n    }\n      \n    }\n\n    .add-room {\n      color: #456;\n      margin: 15px 0 10px 90px;\n      padding: 5px;\n         \n      border: 1px solid #aaa;\n    }\n\n    .add-room:hover{\n      color: #fff;\n      background-color: #ccc;\n      border: 1px solid #bbb;\n      box-shadow: 3px 3px 16px 0px #aaa;\n    }\n\n    \n  }\n"]))),Ve=Object(R.a)(Y.a.Link)(we||(we=Object(j.a)(["\n  display: block;\n  margin-bottom: -1px;\n  color: #ddd; \n  padding: 15px 10px 15px 10px;\n  border-radius: 5px;\n  \n"]))),Me=Object(R.a)(Se.a)(Ce||(Ce=Object(j.a)(["\nborder-bottom: 1px solid #ccc;\nbox-shadow: 0px 9px 7px -9px #ccc;\n\n"])));var Ue,Le=function(){var e=Object(c.useContext)(B),t=e.rooms,n=e.setIsAddRoomVisible,a=e.setSelectedRoomId,r=e.selectedRoomId;return Object(T.jsx)(Me,{defaultActiveKey:"0",ghost:!0,children:Object(T.jsxs)(Ae,{header:"Nh\xf3m c\u1ee7a b\u1ea1n",children:[" ",t.map((function(e){return Object(T.jsxs)(Ve,{onClick:function(){return a(e.id)},style:e.id===r?{textShadow:"rgb(222 222 222) 0px 0px 7px",backgroundColor:"#f1f1f1",transition:"all 0.2s",color:"#000"}:{},className:"chu",children:[" ",e.name,Object(T.jsx)(T.Fragment,{children:1!==Array.from(e.members).length?Object(T.jsx)(Ie.a,{style:{fontSize:"16pt",float:"right"}}):Object(T.jsx)(ke.a,{style:{fontSize:"16pt",float:"right"}})})]},e.id)})),Object(T.jsx)(C.a,{type:"text",className:"add-room",onClick:function(){return n(!0)},children:"Th\xeam nh\xf3m"})]},"1")})},ze=n(483),Fe=n(471),Te=R.a.div(Ue||(Ue=Object(j.a)([" \ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\npadding: 12px 16px;\nborder-bottom: 1px solid #ccc;\nbox-shadow: -4px -1px 9px 1px #ccc;\n\n.username {\n  margin-left: 10px;\n  font-size: 16pt;\n  font-weight: 700;\n}\n\n.logout:hover{\n    color: red;\n    border-radius: 50%;\n}\n\n.logout{\n    border-radius: 50%;\n}\n"])));var _e,Ee,Be,Pe,De=function(){var e=Object(c.useContext)(_),t=e.displayName,n=e.photoURL,a=Object(c.useContext)(B).clearState;return Object(T.jsxs)(Te,{children:[Object(T.jsxs)("div",{children:[Object(T.jsx)(J.a,{placement:"right",title:t,style:{},children:Object(T.jsxs)(Fe.a,{size:"large",src:n,children:[" ",n?"":null===t||void 0===t?void 0:t.charAt(0)]})}),Object(T.jsx)(Y.a.Text,{className:"username",children:"Chat"})]}),Object(T.jsx)(J.a,{title:"\u0110\u0103ng xu\u1ea5t",placement:"top",children:Object(T.jsx)(C.a,{className:"logout",icon:Object(T.jsx)(ze.a,{}),style:{border:"none"},onClick:function(){M.signOut(),a()}})})]})},Ge=Se.a.Panel,We=Object(R.a)(Ge)(_e||(_e=Object(j.a)(["\n\n  \n\n\n  &&& {\n    .ant-collapse-header,\n    p {\n      color: blue;\n      font-weight: 500;\n    }\n\n    .ant-collapse-content-box {\n      padding: 0 40px;\n      max-height: 290px;\n      overflow-y: auto;\n    }\n\n    .add-room {\n      color: #123;\n      padding: 0;\n    }\n  }\n"]))),Ke=Object(R.a)(Y.a.Link)(Ee||(Ee=Object(j.a)(["\n  display: block;\n  margin-bottom: 5px;\n  color: blue;\n  \n"]))),He=R.a.div(Be||(Be=Object(j.a)(["\n    display: flex;\n    margin: 15px 10px 10px 0px;\n    .user{\n        color: #123;\n        margin-left: 10px;\n    }\n    .status{\n      color: #123;\n      position: absolute;\n      right: 8%;\n    }\n"]))),Je=Object(R.a)(Se.a)(Pe||(Pe=Object(j.a)(["\nborder-bottom: 1px solid #ccc;\nbox-shadow: 0px 9px 7px -9px #ccc;\n\n"])));var Ye,Qe=function(){var e=Object(c.useContext)(_).uid,t=z("users","");return Object(T.jsx)(Je,{defaultActiveKey:"0",ghost:!0,children:Object(T.jsxs)(We,{header:"Danh s\xe1ch b\u1ea1n b\xe8",children:[t.filter((function(t){return t.uid!==e})).map((function(e){return Object(T.jsxs)(He,{children:[Object(T.jsx)(Fe.a,{size:"small",src:e.photoUrl,children:e.photoUrl?"":e.displayName.charAt(0)}),Object(T.jsx)(Ke,{className:"user",children:e.displayName})]},e.uid)}))," "]},"1")})},Xe=R.a.div(Ye||(Ye=Object(j.a)(["\n  background: #fff;\n  color: black;\n  height: 100vh;\n  border-right: 1px solid #ccc;\n  magrin: 20px\n"])));var Ze=function(){return Object(T.jsx)(Xe,{style:{},children:Object(T.jsx)(l.a,{children:Object(T.jsxs)(d.a,{span:"24",children:[Object(T.jsx)(De,{}),Object(T.jsx)(Le,{}),Object(T.jsx)(Qe,{})]})})})};var qe=function(){return Object(T.jsx)("div",{children:Object(T.jsxs)(l.a,{children:[Object(T.jsx)(d.a,{span:"5",children:Object(T.jsx)(Ze,{})}),Object(T.jsx)(d.a,{span:"19",children:Object(T.jsx)(Ne,{})})]})})},$e=n(52),et=n.n($e),tt=n(69),nt=n(484),ct=n(485),at=n(11),rt=Y.a.Title,it=new at.default.auth.FacebookAuthProvider,ot=new at.default.auth.GoogleAuthProvider;var st=function(){var e=function(){var e=Object(tt.a)(et.a.mark((function e(){var t,n,c,a;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.signInWithPopup(ot);case 2:t=e.sent,n=t.additionalUserInfo,c=t.user,n.isNewUser&&K("users",{displayName:c.displayName,email:c.email,photoUrl:c.photoURL,uid:c.uid,providerId:n.providerId,keywords:H(null===(a=c.displayName)||void 0===a?void 0:a.toLowerCase())});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){alert("Website kh\xf4ng d\xf9ng responsive nh\xe9.\n         Vui l\xf2ng s\u1eed d\u1ee5ng tr\xean m\xe1y t\xednh.")}),[]),Object(T.jsx)("div",{children:Object(T.jsx)(l.a,{justify:"center",style:{height:800},children:Object(T.jsxs)(d.a,{span:10,children:[Object(T.jsx)(rt,{style:{textAlign:"center",margin:"30px"},level:2,children:"\u0110\u0103ng nh\u1eadp \u0111\u1ec3 tham gia v\u1edbi ch\xfang t\xf4i"}),Object(T.jsx)(C.a,{icon:Object(T.jsx)(nt.a,{}),style:{width:"100%",fontSize:"16px",color:"red",height:"40px"},onClick:function(){return e()},children:"\u0110\u0103ng nh\u1eadp b\u1eb1ng Google"}),Object(T.jsx)(C.a,{icon:Object(T.jsx)(ct.a,{}),style:{marginTop:"5px",width:"100%",fontSize:"16px",color:"blue",height:"40px"},onClick:function(){M.signInWithPopup(it)},children:"\u0110\u0103ng nh\u1eadp b\u1eb1ng Facebook (beta)"})]})})})},lt=n(257),dt=n(195),bt=n.n(dt),jt=n(82),ut=n.n(jt);function pt(){var e=Object(I.useForm)(),t=Object(b.a)(e,1)[0],n=Object(c.useContext)(B),a=n.isAddRoomVisible,r=n.setIsAddRoomVisible,i=Object(c.useContext)(_).uid;return Object(T.jsx)("div",{children:Object(T.jsx)(ut.a,{title:"T\u1ea1o ph\xf2ng",visible:a,onOk:function(){var e,n;(null===(e=t.getFieldValue())||void 0===e?void 0:e.name)&&(null===(n=t.getFieldValue())||void 0===n?void 0:n.description)?(K("rooms",Object(A.a)(Object(A.a)({},t.getFieldsValue()),{},{members:[i]})),t.resetFields(),r(!1)):lt.b.info("B\u1ea1n c\u1ea7n nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin")},onCancel:function(){r(!1)},children:Object(T.jsxs)(k.a,{layout:"vertical",form:t,children:[Object(T.jsx)(bt.a,{label:"T\xean ph\xf2ng",name:"name",children:Object(T.jsx)(w.a,{name:"name",placeholder:"Nh\u1eadp t\xean ph\xf2ng",autoComplete:"off"})}),Object(T.jsx)(bt.a,{label:"M\xf4 t\u1ea3",name:"description",children:Object(T.jsx)(w.a,{name:"description",placeholder:"Nh\u1eadp m\xf4 t\u1ea3",autoComplete:"off"})})]})})})}var xt=n(14),ht=n(468),mt=n(252),ft=n.n(mt),Ot=["fetchOptions","debounceTimeout","curMembers"];function gt(e){var t=e.fetchOptions,n=e.debounceTimeout,r=void 0===n?300:n,i=e.curMembers,o=Object(xt.a)(e,Ot),s=Object(c.useState)(!1),l=Object(b.a)(s,2),d=l[0],j=l[1],u=Object(c.useState)([]),p=Object(b.a)(u,2),x=p[0],h=p[1],m=a.a.useMemo((function(){return ft()((function(e){h([]),j(!0),t(e,i).then((function(e){h(e),j(!1)}))}),r)}),[r,t,i]);return a.a.useEffect((function(){return function(){h([])}}),[]),console.log(x),Object(T.jsxs)(ht.a,Object(A.a)(Object(A.a)({labelInValue:!0,filterOption:!1,onSearch:m,notFoundContent:d?Object(T.jsx)(F.a,{size:"small"}):Object(T.jsx)("p",{style:{marginTop:"10px",color:"#345"},children:"Kh\xf4ng t\xecm th\u1ea5y th\xe0nh vi\xean . . ."})},o),{},{children:[" ",x.map((function(e){var t,n;return Object(T.jsxs)(ht.a.Option,{value:e.value,title:e.label,children:[Object(T.jsxs)(ae.a,{size:"small",src:e.photoURL,children:[" ",e.photoURL?"":null===(t=e.label)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase()," "]})," ".concat(e.label)," "]},e.value)}))," "]}))}function vt(e,t){return yt.apply(this,arguments)}function yt(){return(yt=Object(tt.a)(et.a.mark((function e(t,n){return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.collection("users").where("keywords","array-contains",null===t||void 0===t?void 0:t.toLowerCase()).orderBy("displayName").limit(20).get().then((function(e){return e.docs.map((function(e){return{label:e.data().displayName,value:e.data().uid,photoURL:e.data().photoURL}})).filter((function(e){return!n.includes(e.value)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(){var e=Object(c.useContext)(B),t=e.isInviteMemberVisible,n=e.setIsInviteMemberVisible,a=e.selectedRoomId,r=e.selectedRoom,i=Object(c.useState)([]),o=Object(b.a)(i,2),s=o[0],l=o[1],d=g.a.useForm(),j=Object(b.a)(d,1)[0];return Object(T.jsx)("div",{children:Object(T.jsx)(ut.a,{title:"M\u1eddi th\xeam b\u1ea1n b\xe8",visible:t,onOk:function(){j.resetFields(),l([]),U.collection("rooms").doc(a).update({members:[].concat(Object(W.a)(r.members),Object(W.a)(s.map((function(e){return e.value}))))});var e=s.length;0!==e&&lt.b.success("\u0110\xe3 th\xeam "+e+" th\xe0nh vi\xean"),n(!1)},onCancel:function(){j.resetFields(),l([]),n(!1)},destroyOnClose:!0,children:Object(T.jsxs)(g.a,{form:j,layout:"vertical",children:[Object(T.jsx)("p",{children:"H\u1ecd t\xean"}),Object(T.jsx)(gt,{mode:"multiple",name:"search-user",label:"T\xean c\xe1c th\xe0nh vi\xean",value:s,placeholder:"G\xf5 * \u0111\u1ec3 hi\u1ec3n th\u1ecb t\u1ea5t c\u1ea3",fetchOptions:vt,onChange:function(e){return l(e)},style:{width:"100%"},curMembers:r.members})]})})})}var Ct,Nt,It=n(161),kt=Object(R.a)(Y.a.Text)(Ct||(Ct=Object(j.a)(["\n  display: block;\n  margin-bottom: 5px;\n  color: blue;\n"]))),St=R.a.div(Nt||(Nt=Object(j.a)(["\n    display: flex;\n    margin: 15px 10px 10px 0px;\n    align-item: center;\n    .user{\n        color: #123;\n        margin: 7px 15px 9px 15px;\n        font-weight: 500;\n    }\n    .status{\n      color: #123;\n      position: absolute;\n      right: 8%;\n    }\n    p{\n        margin-top:6px;\n    }\n"])));function Rt(){var e=Object(c.useContext)(B),t=e.members,n=e.setIsShowMembersVisible,a=e.isShowMembersVisible,r=Object(c.useContext)(_).uid,i=function(){n(!1)};return Object(T.jsxs)(ut.a,{title:"Danh s\xe1ch th\xe0nh vi\xean ("+Array.from(t).length+")",visible:a,onCancel:i,onOk:i,children:[" ",Array.from(t).map((function(e){return Object(T.jsxs)(St,{children:[Object(T.jsxs)(ae.a,{size:"large",src:e.photoUrl,children:[" ",e.photoUrl?"":e.displayName.charAt(0)]}),Object(T.jsxs)(kt,{className:"user",children:[" ",r===e.uid?"B\u1ea1n":e.displayName]}),Object(T.jsx)(C.a,{style:{borderRadius:"50%",float:"right",position:"absolute",left:"85%",marginTop:"2px"},icon:Object(T.jsx)(It.a,{style:{fontSize:"15pt",marginTop:"3px"}})})," "]},e.uid)}))," "]})}var At=function(){return Object(T.jsx)(o.a,{children:Object(T.jsx)(E,{children:Object(T.jsxs)(G,{children:[Object(T.jsxs)(s.c,{children:[Object(T.jsx)(s.a,{path:"/login",children:Object(T.jsx)(st,{})}),Object(T.jsx)(s.a,{path:"/",children:Object(T.jsx)(qe,{})})]}),Object(T.jsx)(pt,{}),Object(T.jsx)(wt,{}),Object(T.jsx)(Rt,{})]})})})};n(457);i.a.render(Object(T.jsx)(a.a.StrictMode,{children:Object(T.jsx)(At,{})}),document.getElementById("root"))}},[[458,1,2]]]);
//# sourceMappingURL=main.376bdabf.chunk.js.map